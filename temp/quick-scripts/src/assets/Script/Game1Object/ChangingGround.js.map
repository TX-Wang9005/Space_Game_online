{"version":3,"sources":["assets\\Script\\Game1Object\\ChangingGround.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import GameManagerS1 from \"../GameManager/GameManagerS1\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ChangingGround extends cc.Component {\r\n\r\n    \r\n    @property(cc.Node)\r\n    gameManager: cc.Node = null;\r\n    @property(cc.SpriteFrame)\r\n    FrameDefault: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    Frame1: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    Frame2: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    Frame3: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    Frame4: cc.SpriteFrame = null;\r\n    @property(cc.SpriteFrame)\r\n    Frame5: cc.SpriteFrame = null;\r\n\r\n    private SpriteComponent: cc.Sprite;\r\n    private GameComponent: GameManagerS1;\r\n\r\n    private gamestart: boolean = false;\r\n\r\n    private owner: number = 0;\r\n\r\n    private fadeOuttime: number = 0.05;\r\n    private fadeIntime: number = 0.2;\r\n\r\n    // onLoad () {}\r\n\r\n    start () {\r\n        this.GameComponent = this.gameManager.getComponent(GameManagerS1);\r\n        this.SpriteComponent = this.node.getComponent(cc.Sprite);\r\n        // console.log(this.SpriteComponent.spriteFrame);\r\n        this.SpriteComponent.spriteFrame = this.FrameDefault;\r\n        \r\n        // this.SpriteComponent.spriteFrame = this.Frame1;\r\n        // let action: cc.Action;\r\n        // action = cc.sequence(cc.fadeTo(this.fadeOuttime,0), cc.fadeTo(this.fadeIntime,75), cc.fadeTo(this.fadeIntime*10,175));\r\n        // this.node.runAction(action);\r\n    }\r\n\r\n    // update (dt) {}\r\n    onBeginContact(contact, self, other){\r\n        // if(!this.gamestart) return;\r\n        let action: cc.Action;\r\n        action = cc.sequence(cc.fadeTo(this.fadeOuttime,0), cc.fadeTo(this.fadeIntime,75), cc.fadeTo(this.fadeIntime*10,175));\r\n        if(other.node.name == \"player1\"){\r\n            if(this.owner != 1){\r\n                this.node.runAction(action);\r\n                this.GameComponent.UpdateScore(1, 1);\r\n                this.GameComponent.UpdateScore(this.owner, -1);\r\n            }\r\n            this.owner = 1;\r\n            this.scheduleOnce(()=>{\r\n                this.SpriteComponent.spriteFrame = this.Frame1;\r\n            }, this.fadeOuttime);\r\n\r\n        }else if(other.node.name == \"player2\"){\r\n            if(this.owner != 2){\r\n                this.node.runAction(action);\r\n                this.GameComponent.UpdateScore(2, 1);\r\n                this.GameComponent.UpdateScore(this.owner, -1);\r\n            }\r\n            this.owner = 2;\r\n            this.scheduleOnce(()=>{\r\n                this.SpriteComponent.spriteFrame = this.Frame2;\r\n            }, this.fadeOuttime);\r\n\r\n        }else if(other.node.name == \"player3\"){\r\n            if(this.owner != 3){\r\n                this.node.runAction(action);\r\n                this.GameComponent.UpdateScore(3, 1);\r\n                this.GameComponent.UpdateScore(this.owner, -1);\r\n            }\r\n            this.owner = 3;\r\n            this.scheduleOnce(()=>{\r\n                this.SpriteComponent.spriteFrame = this.Frame3;\r\n            }, this.fadeOuttime);\r\n\r\n        }else if(other.node.name == \"player4\"){\r\n            if(this.owner != 4){\r\n                this.node.runAction(action);\r\n                this.GameComponent.UpdateScore(4, 1);\r\n                this.GameComponent.UpdateScore(this.owner, -1);\r\n            }\r\n            this.owner = 4;\r\n            this.scheduleOnce(()=>{\r\n                this.SpriteComponent.spriteFrame = this.Frame4;\r\n            }, this.fadeOuttime);\r\n\r\n        }else if(other.node.name == \"player5\"){\r\n            if(this.owner != 5){\r\n                this.node.runAction(action);\r\n                this.GameComponent.UpdateScore(5, 1);\r\n                this.GameComponent.UpdateScore(this.owner, -1);\r\n            }\r\n            this.owner = 5;\r\n            this.scheduleOnce(()=>{\r\n                this.SpriteComponent.spriteFrame = this.Frame5;\r\n            }, this.fadeOuttime);\r\n        }\r\n    }\r\n}\r\n"]}