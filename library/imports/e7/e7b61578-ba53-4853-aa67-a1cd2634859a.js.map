{"version":3,"sources":["assets\\Script\\Game5Object\\utility.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst { ccclass, property } = cc._decorator;\r\nimport GameManagerS5 from \"../GameManager/GameManagerS5\"\r\ndeclare const firebase: any;\r\n@ccclass\r\nexport default class NewClass extends cc.Component {\r\n\r\n    @property({ type: cc.AudioClip })\r\n    soundEffect: cc.AudioClip[] = [];\r\n    current_user;\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {}\r\n\r\n    start() {\r\n        let press_button = new cc.Component.EventHandler();\r\n        press_button.target = this.node;\r\n        press_button.component = \"utility\";\r\n        press_button.handler = \"selection\";\r\n        cc.find(`Canvas/MapObjContainer/character_utility/${this.node.name}/Button`).getComponent(cc.Button).clickEvents.push(press_button);\r\n    }\r\n\r\n    selection() {\r\n        let game_manager = cc.find('GameManager').getComponent(GameManagerS5);\r\n        this.current_user = game_manager.current_user_node;\r\n        console.log(\"finally   \" + this.node.name)\r\n        if (!game_manager.select_character) {\r\n            switch (this.node.name) {\r\n                case \"book\":\r\n                    firebase.database().ref(`player_data/${this.current_user}/character`).set({ character: \"erudite\" });\r\n                    game_manager.select_character = true;\r\n                    game_manager.character = \"erudite\";\r\n                    cc.find('Canvas/UI/Character/book').active = true;\r\n                    cc.find('Canvas/UI/Character/clover').active = false;\r\n                    cc.find('Canvas/UI/Character/bomb').active = false;\r\n                    cc.find('Canvas/UI/Character/coin').active = false;\r\n                    cc.find('Canvas/UI/Character/ring').active = false;\r\n                    cc.find('Canvas/UI/hint_message').getComponent(cc.Label).string = \"Now you can peak card distribution\";\r\n                    break;\r\n                case \"bomb\":\r\n                    firebase.database().ref(`player_data/${this.current_user}/character`).set({ character: \"thug\" });\r\n                    game_manager.select_character = true;\r\n                    game_manager.character = \"thug\";\r\n                    //get all the irrefutable on\r\n                    for (let i = 1; i <= 5; i++) {\r\n                        if (`player${i}` != this.current_user) {\r\n                            cc.find(`Canvas/PlayerContainer/player${i}/unreasonable`).active = true;\r\n                        }\r\n                    }\r\n                    cc.find('Canvas/UI/Character/book').active = false;\r\n                    cc.find('Canvas/UI/Character/clover').active = false;\r\n                    cc.find('Canvas/UI/Character/bomb').active = true;\r\n                    cc.find('Canvas/UI/Character/coin').active = false;\r\n                    cc.find('Canvas/UI/Character/ring').active = false;\r\n                    cc.find('Canvas/UI/hint_message').getComponent(cc.Label).string = \"Now other can't reject your fight request\";\r\n                    break;\r\n                case \"black_clover\":\r\n                    firebase.database().ref(`player_data/${this.current_user}/character`).set({ character: \"gambler\" });\r\n                    game_manager.select_character = true;\r\n                    cc.find('Canvas/UI/Mine_info_choice/gambler_ability').active = true;\r\n                    cc.find('Canvas/UI/Mine_info_choice/betting_multiple').active = true;\r\n                    cc.find('Canvas/UI/Character/book').active = false;\r\n                    cc.find('Canvas/UI/Character/clover').active = true;\r\n                    cc.find('Canvas/UI/Character/bomb').active = false;\r\n                    cc.find('Canvas/UI/Character/coin').active = false;\r\n                    cc.find('Canvas/UI/Character/ring').active = false;\r\n                    cc.find('Canvas/UI/hint_message').getComponent(cc.Label).string = \"Now you can gain more when you win\";\r\n                    game_manager.character = \"gambler\";\r\n                    break;\r\n                case \"ring\":\r\n                    firebase.database().ref(`player_data/${this.current_user}/character`).set({ character: \"rule_breaker\" });\r\n                    game_manager.select_character = true;\r\n                    game_manager.character = \"rule_breaker\";\r\n                    firebase.database().ref(`player_data/${this.current_user}/game2_state/reverse`).set({ reverse: \"true\" });\r\n                    cc.find('Canvas/UI/Mine_info_choice/switch_result').active = true;\r\n                    cc.find('Canvas/UI/Character/book').active = false;\r\n                    cc.find('Canvas/UI/Character/clover').active = false;\r\n                    cc.find('Canvas/UI/Character/bomb').active = false;\r\n                    cc.find('Canvas/UI/Character/coin').active = false;\r\n                    cc.find('Canvas/UI/Character/ring').active = true;\r\n                    cc.find('Canvas/UI/hint_message').getComponent(cc.Label).string = \"Now you can reverse the fighting result\"\r\n                    break; // means he can swap the cards and invert the result\r\n                case \"coin\":\r\n                    firebase.database().ref(`player_data/${this.current_user}/character`).set({ character: \"escaper\" });\r\n                    game_manager.select_character = true;\r\n                    game_manager.character = \"escaper\";\r\n                    cc.find('Canvas/UI/Mine_info_choice/escape').active = true;\r\n                    cc.find('Canvas/UI/Character/book').active = false;\r\n                    cc.find('Canvas/UI/Character/clover').active = false;\r\n                    cc.find('Canvas/UI/Character/bomb').active = false;\r\n                    cc.find('Canvas/UI/Character/coin').active = true;\r\n                    cc.find('Canvas/UI/Character/ring').active = false;\r\n                    cc.find('Canvas/UI/hint_message').getComponent(cc.Label).string = \"Now you can escape from fight\"\r\n                    break; // means he can swap the cards and invert the result\r\n            }\r\n        }\r\n        cc.audioEngine.playEffect(this.soundEffect[0], false);\r\n        cc.find('Canvas/MapObjContainer/character_utility/book').active = false;\r\n        cc.find('Canvas/MapObjContainer/character_utility/bomb').active = false;\r\n        cc.find('Canvas/MapObjContainer/character_utility/black_clover').active = false;\r\n        cc.find('Canvas/MapObjContainer/character_utility/coin').active = false;\r\n        cc.find('Canvas/MapObjContainer/character_utility/ring').active = false;\r\n        let fadeout = cc.fadeOut(5.0)\r\n        this.scheduleOnce(function () {\r\n            cc.find('Canvas/UI/hint_message').active = true;\r\n            cc.find('Canvas/UI/hint_message').runAction(fadeout);\r\n        }, 0.1)\r\n        cc.find('Canvas/UI/hint_message').active = false;\r\n        cc.find('Canvas/UI/hint_message').opacity = 255;\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}