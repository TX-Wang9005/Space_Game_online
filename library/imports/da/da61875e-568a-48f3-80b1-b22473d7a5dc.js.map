{"version":3,"sources":["assets\\Script\\GameManager\\GameManagerS1.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\nimport Player from \"../Player\";\r\nimport ChangingGround from \"../Game1Object/ChangingGround\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\ndeclare const firebase: any;\r\n\r\n@ccclass\r\nexport default class GameManagerS1 extends cc.Component {\r\n\r\n\r\n    @property(cc.Prefab)\r\n    CG: cc.Prefab = null;\r\n\r\n    @property(cc.Node)\r\n    scorepoint: cc.Node = null;\r\n    @property(cc.Node)\r\n    loadingBG: cc.Node = null;\r\n    @property(cc.Node)\r\n    GameoverBG: cc.Node = null;\r\n    @property(cc.Node)\r\n    TimerLabel: cc.Node = null;\r\n\r\n\r\n    @property()\r\n    GameTime: number = 120;\r\n    @property()\r\n    WidthPixels: number = 1;\r\n    @property()\r\n    HeightPixels: number = 10;\r\n    @property(cc.AudioClip)\r\n    BGM: cc.AudioClip = null;\r\n    @property(cc.AudioClip)\r\n    ScoreSound: cc.AudioClip = null;\r\n    @property(cc.AudioClip)\r\n    GameOverSound: cc.AudioClip = null;\r\n\r\n    private current_user_number: number = 0;\r\n\r\n    private player1_score: number = 0;\r\n    private player2_score: number = 0;\r\n    private player3_score: number = 0;\r\n    private player4_score: number = 0;\r\n    private player5_score: number = 0;\r\n    private counting = 0;\r\n\r\n    private physicManager: cc.PhysicsManager = null;\r\n    private timer: number = 0;\r\n    private timeUp: boolean = false;\r\n\r\n    onLoad() {\r\n        this.physicManager = cc.director.getPhysicsManager();\r\n        this.physicManager.enabled = true;\r\n        this.physicManager.gravity = cc.v2(0, 0);\r\n\r\n        // 每個player node初始化位置。\r\n        var user = firebase.auth().currentUser.uid;\r\n        firebase.database().ref(`player_data`).once('value', function (snapshot) {\r\n            snapshot.forEach(function (player) {\r\n                let name = player.key;\r\n                if (name == \"player1\" || name == \"player2\" || name == \"player3\" || name == \"player4\" || name == \"player5\") {\r\n                    console.log(\"Initial player:\", name);\r\n                    firebase.database().ref(`player_data/${name}/state_value/moveDirX`).set({ Dir: 0 })\r\n                    firebase.database().ref(`player_data/${name}/state_value/moveDirY`).set({ Dir: 0 })\r\n                    firebase.database().ref(`player_data/${name}/state_value/premoveDirX`).set({ Dir: 0 })\r\n                    firebase.database().ref(`player_data/${name}/state_value/moveable`).set({ moveable: \"true\" })\r\n                    firebase.database().ref(`player_data/${name}/state_value/X`).set({ x: 96 })\r\n                    firebase.database().ref(`player_data/${name}/state_value/Y`).set({ y: 352 })\r\n                }\r\n            })\r\n        })\r\n        //\r\n        let player_node_number = 0;\r\n        firebase.database().ref(`user_info/${user}`).once('value', function (snapshot) {\r\n            player_node_number = snapshot.val().player_number;\r\n        }\r\n        );\r\n        this.scheduleOnce(() => {\r\n            this.current_user_number = player_node_number;\r\n            // console.log(\"current in S1:\", this.current_user_number);\r\n        }, 2.5);\r\n\r\n    }\r\n\r\n    start() {\r\n        this.loadingBG.active = true;\r\n        let player1 = cc.find(\"Canvas/PlayerContainer/player1\");\r\n        let player2 = cc.find(\"Canvas/PlayerContainer/player2\");\r\n        let player3 = cc.find(\"Canvas/PlayerContainer/player3\");\r\n        let player4 = cc.find(\"Canvas/PlayerContainer/player4\");\r\n        let player5 = cc.find(\"Canvas/PlayerContainer/player5\");\r\n        if (player1) player1.getComponent(Player).moveable = false;\r\n        if (player2) player5.getComponent(Player).moveable = false;\r\n        if (player3) player5.getComponent(Player).moveable = false;\r\n        if (player4) player5.getComponent(Player).moveable = false;\r\n        if (player5) player5.getComponent(Player).moveable = false;\r\n\r\n        this.Init_player();\r\n        this.scheduleOnce(() => {\r\n            this.CreateCG();\r\n        }, 1.5);\r\n        this.scheduleOnce(() => {\r\n            this.loadingBG.active = false;\r\n            if (player1) player1.getComponent(Player).moveable = true;\r\n            if (player2) player5.getComponent(Player).moveable = true;\r\n            if (player3) player5.getComponent(Player).moveable = true;\r\n            if (player4) player5.getComponent(Player).moveable = true;\r\n            if (player5) player5.getComponent(Player).moveable = true;\r\n            // 開始計時\r\n            this.TimerStart();\r\n            cc.audioEngine.playMusic(this.BGM, true);\r\n            cc.audioEngine.setMusicVolume(0.5);\r\n        }, 2.5);\r\n\r\n        // firebase\r\n        firebase.database().ref('GameOccupyLand/playerScore').set({ player1: 0, player2: 0, player3: 0, player4: 0, player5: 0 });\r\n\r\n        this.schedule(this.UpdateScoreOnFirebase, 0.2);\r\n\r\n    }\r\n\r\n    update(dt) {\r\n\r\n    }\r\n    Init_player() {\r\n        let handle = this;\r\n        // initialize players\r\n        for (let i = 1; i <= 5; i++) {\r\n            firebase.database().ref(`player/player${i}_islogin`).once('value', function (snapshot) { // 如果玩家登入\r\n                if (snapshot.val() == true) {\r\n                    cc.find(`Canvas/PlayerContainer/player${i}`).active = true;\r\n                    firebase.database().ref(`player_data/player${i}/state_value/moveDirX`).set({ Dir: 0 })\r\n                    firebase.database().ref(`player_data/player${i}/state_value/moveDirY`).set({ Dir: 0 })\r\n                    firebase.database().ref(`player_data/player${i}/state_value/premoveDirX`).set({ Dir: 0 })\r\n                    firebase.database().ref(`player_data/player${i}/state_value/moveable`).set({ moveable: \"true\" })\r\n                    firebase.database().ref(`player_data/player${i}/state_value/X`).set({ x: 96 })\r\n                    firebase.database().ref(`player_data/player${i}/state_value/Y`).set({ y: 352 })\r\n                }\r\n            })\r\n        }\r\n        // initial End\r\n    }\r\n    CreateCG() {\r\n        // instantiate CG\r\n        let x, y, x_max, y_max, xpos, ypos;\r\n        x_max = this.WidthPixels;\r\n        y_max = this.HeightPixels;\r\n        let CGcontainer = cc.find(\"Canvas/MapObjContainer\");\r\n        for (x = 0; x < x_max; x++) {\r\n            for (y = 0; y < y_max; y++) {\r\n                xpos = x * 32 + 16 - 1152;\r\n                ypos = y * 32 + 16 - 800;\r\n                // Stage1 reburn at 96,352\r\n                if ((xpos > -64 && xpos < 256 && ypos < 512 && ypos > 192)) continue;\r\n                if ((xpos == 784 && ypos == 144) || (xpos == 816 && ypos == 144) || (xpos == 784 && ypos == -272) || (xpos == 816 && ypos == -272) || (xpos == -496 && ypos == 304) ||\r\n                    (xpos == -464 && ypos == -496) || (xpos == -496 && ypos == -496) || (xpos == -976 && ypos == 208) || (xpos == -944 && ypos == 208) || (xpos == -784 && ypos == 48) ||\r\n                    (xpos == -752 && ypos == 48) || (xpos == -976 && ypos == -208) || (xpos == -944 && ypos == -208) || (xpos == 0 && ypos == 0) || (xpos == 0 && ypos == 0))\r\n                    continue;\r\n                // console.log(\"Create CG in (\",x,\",\",y,\").\");\r\n                let CG = cc.instantiate(this.CG);\r\n                CG.setPosition(xpos, ypos);\r\n                CG.getComponent(ChangingGround).gameManager = this.node;\r\n                CGcontainer.addChild(CG);\r\n            }\r\n        }\r\n    }\r\n    // timer\r\n    TimerStart() {\r\n        this.timer = this.GameTime;\r\n        this.TimerLabel.getComponent(cc.Label).string = this.GameTime.toString();\r\n        this.schedule(this.UpdateTimer, 1);\r\n    }\r\n    UpdateTimer() {\r\n        if (this.timeUp) return;\r\n        if (this.timer > 0) this.timer += -1;\r\n        else if (this.timer == 0) this.timeUp = true;\r\n        this.TimerLabel.getComponent(cc.Label).string = this.timer.toString();\r\n\r\n        if (this.timeUp) {\r\n            this.GameOver();\r\n        }\r\n    }\r\n    GameOver() {\r\n        cc.audioEngine.stopMusic();\r\n        this.scheduleOnce(()=>{\r\n            cc.audioEngine.playEffect(this.GameOverSound, false);\r\n        }, 0.5);\r\n        this.GameoverBG.active = true;\r\n        let scoreboard = this.GameoverBG.getChildByName(\"Score\");\r\n        let scorepoint = scoreboard.getChildByName(\"Scorepoint\").getComponent(cc.Label);\r\n        let point = scoreboard.getChildByName(\"Point\").getComponent(cc.Label);\r\n        let score_p1 = 0;\r\n        let score_p2 = 0;\r\n        let score_p3 = 0;\r\n        let score_p4 = 0;\r\n        let score_p5 = 0;\r\n        firebase.database().ref('GameOccupyLand/playerScore').once('value', function (snapshot) {\r\n            // console.log(snapshot.val().player2);\r\n            score_p1 = snapshot.val().player1;\r\n            score_p2 = snapshot.val().player2;\r\n            score_p3 = snapshot.val().player3;\r\n            score_p4 = snapshot.val().player4;\r\n            score_p5 = snapshot.val().player5;\r\n        });\r\n        this.scheduleOnce(() => {\r\n            scoreboard.active = true;\r\n            let str = \"\\n\";\r\n            str += score_p1.toString() + \"\\n\";\r\n            str += score_p2.toString() + \"\\n\";\r\n            str += score_p3.toString() + \"\\n\";\r\n            str += score_p4.toString() + \"\\n\";\r\n            str += score_p5.toString();\r\n            scorepoint.string = str;\r\n            cc.audioEngine.playEffect(this.ScoreSound, false);\r\n        }, 3);\r\n        this.scheduleOnce(() => {\r\n            let arr = [], arr2 = [];\r\n            arr.push(score_p1);\r\n            arr.push(score_p2);\r\n            arr.push(score_p3);\r\n            arr.push(score_p4);\r\n            arr.push(score_p5);\r\n            let cnt = 0;\r\n            for (let i = 0; i < 5; i++) {\r\n                cnt = 0;\r\n                for (let j = 0; j < 5; j++) {\r\n                    if (arr[i] < arr[j]) cnt++;\r\n                }\r\n                if (arr[i] != 0) {\r\n                    arr2.push(80 - 20 * cnt);\r\n                } else {\r\n                    arr2.push(0);\r\n                }\r\n            }\r\n            let str = \"\";\r\n            for (let i = 0; i < 5; i++) {\r\n                str += \"\\n+ \" + arr2[i].toString();\r\n            }\r\n            point.string = str;\r\n            cc.audioEngine.playEffect(this.ScoreSound, false);\r\n            // firebase\r\n            firebase.database().ref(`GameResult/Round1`).set({\r\n                player1: arr2[0],\r\n                player2: arr2[1],\r\n                player3: arr2[2],\r\n                player4: arr2[3],\r\n                player5: arr2[4],\r\n            });\r\n        }, 5);\r\n        this.scheduleOnce(() => {\r\n            cc.director.loadScene(\"GameStage2\");\r\n        }, 10);\r\n    }\r\n    //\r\n    UpdateScore(player: number, point: number) {\r\n        if (player == 1 && this.current_user_number == 1) {\r\n            this.player1_score += point;\r\n        } else if (player == 2 && this.current_user_number == 2) {\r\n            this.player2_score += point;\r\n        } else if (player == 3 && this.current_user_number == 3) {\r\n            this.player3_score += point;\r\n        } else if (player == 4 && this.current_user_number == 4) {\r\n            this.player4_score += point;\r\n        } else if (player == 5 && this.current_user_number == 5) {\r\n            this.player5_score += point;\r\n        }\r\n    }\r\n    UpdateScoreOnFirebase() {\r\n        let score_p1 = this.player1_score;\r\n        let score_p2 = this.player2_score;\r\n        let score_p3 = this.player3_score;\r\n        let score_p4 = this.player4_score;\r\n        let score_p5 = this.player5_score;\r\n        let current_user_number = this.current_user_number;\r\n        if (current_user_number == 1) {\r\n            firebase.database().ref('GameOccupyLand/playerScore')\r\n                .update({\r\n                    player1: score_p1\r\n                }\r\n                );\r\n        } else if (current_user_number == 2) {\r\n            firebase.database().ref('GameOccupyLand/playerScore')\r\n                .update({\r\n                    player2: score_p2\r\n                }\r\n                );\r\n        } else if (current_user_number == 3) {\r\n            firebase.database().ref('GameOccupyLand/playerScore')\r\n                .update({\r\n                    player3: score_p3,\r\n                }\r\n                );\r\n        } else if (current_user_number == 4) {\r\n            firebase.database().ref('GameOccupyLand/playerScore')\r\n                .update({\r\n                    player4: score_p4\r\n                }\r\n                );\r\n        } else if (current_user_number == 5) {\r\n            firebase.database().ref('GameOccupyLand/playerScore')\r\n                .update({\r\n                    player5: score_p5\r\n                }\r\n                );\r\n        }\r\n        firebase.database().ref('GameOccupyLand/playerScore').once('value', function (snapshot) {\r\n            // console.log(snapshot.val().player2);\r\n            score_p1 = snapshot.val().player1;\r\n            score_p2 = snapshot.val().player2;\r\n            score_p3 = snapshot.val().player3;\r\n            score_p4 = snapshot.val().player4;\r\n            score_p5 = snapshot.val().player5;\r\n        });\r\n        this.scheduleOnce(() => {\r\n            if (current_user_number == 1) {\r\n                let string = \"\\n\";\r\n                string += this.player1_score.toString() + \"\\n\";\r\n                string += score_p2.toString() + \"\\n\";\r\n                string += score_p3.toString() + \"\\n\";\r\n                string += score_p4.toString() + \"\\n\";\r\n                string += score_p5.toString();\r\n                this.scorepoint.getComponent(cc.Label).string = string;\r\n            } else if (current_user_number == 2) {\r\n                let string = \"\\n\";\r\n                string += score_p1.toString() + \"\\n\";\r\n                string += this.player2_score.toString() + \"\\n\";\r\n                string += score_p3.toString() + \"\\n\";\r\n                string += score_p4.toString() + \"\\n\";\r\n                string += score_p5.toString();\r\n                this.scorepoint.getComponent(cc.Label).string = string;\r\n            } else if (current_user_number == 3) {\r\n                let string = \"\\n\";\r\n                string += score_p1.toString() + \"\\n\";\r\n                string += score_p2.toString() + \"\\n\";\r\n                string += this.player3_score.toString() + \"\\n\";\r\n                string += score_p4.toString() + \"\\n\";\r\n                string += score_p5.toString();\r\n                this.scorepoint.getComponent(cc.Label).string = string;\r\n            } else if (current_user_number == 4) {\r\n                let string = \"\\n\";\r\n                string += score_p1.toString() + \"\\n\";\r\n                string += score_p2.toString() + \"\\n\";\r\n                string += score_p3.toString() + \"\\n\";\r\n                string += this.player4_score.toString() + \"\\n\";\r\n                string += score_p5.toString();\r\n                this.scorepoint.getComponent(cc.Label).string = string;\r\n            } else if (current_user_number == 5) {\r\n                let string = \"\\n\";\r\n                string += score_p1.toString() + \"\\n\";\r\n                string += score_p2.toString() + \"\\n\";\r\n                string += score_p3.toString() + \"\\n\";\r\n                string += score_p4.toString() + \"\\n\";\r\n                string += this.player5_score.toString();\r\n                this.scorepoint.getComponent(cc.Label).string = string;\r\n            }\r\n        }, 2)\r\n    }\r\n}\r\n"]}